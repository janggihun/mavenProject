<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="com.project.projectFinal.dao.MemberDao">


	<select id="main">

		select * from memberT where userId = #{userId}

	</select>

	<select id="login">

		select *
		from memberT
		where userId = #{userId}

	</select>
	<update id="loginNow">

		update memberT
		set loginNow = 1
		where userId =
		#{userId} ;

	</update>
	<update id="logoutNow">

		update memberT
		set loginNow = 0
		where userId =
		#{userId} ;

	</update>
	<insert id="join">

		insert into memberT(userId , userPw,role)
		values(#{userId}
		, #{userPw},#{role})
	</insert>

	<select id="find">

		select count(*)
		from memberT
		where userId = #{userId}

	</select>

	<select id="info">

		select * from memberT

	</select>

	<insert id="payDbSave">

		insert into paymentT(userId, userCash,userPoint)
		values(#{userId}, #{userCash},#{userPoint})

	</insert>
	<update id="updatePoint">

		update memberT
		set userPoint =
		(select userPoint from
		memberT where userId = #{userId})+#{userPoint}
		where
		userId = #{userId}

	</update>

	<select id="ajaxtest">

		select count(*)
		from memberT
		where userId = #{userId}

	</select>

	<select id="joinIdCheck">
		select userId from memberT where userId=#{userId};
	</select>

	<select id="checkAdmin">
		select adminLevel from memberT where userId=#{userId};
	</select>


</mapper>